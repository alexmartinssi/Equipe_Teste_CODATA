*** Settings ***
Library	Selenium2Library
Variables  settings.py
Suite Setup	Go to homepage
#Suite Teardown	Close All Browsers

*** Variables ***

#${HOMEPAGE}	http://prxcodata.pb.gov.br/datagate/

*** Test Cases ***
#Cadastrar Gerenciar Serviços
	#cadastrar_servicos
Listar
	listar_servicos

*** Keywords ***

cadastrar_servicos
	Click Element	xpath=//div[@id='menu_index']/a[contains(@href,'/SAVCM/entidades/gerenciarEntidades.jsf')]
	Click Element	xpath=//button/span[contains(text(),'Adicionar Serviço')]
	Wait Until Page Contains    Nome
	Input Text		id=editaentidade:formularioEntidade:adicao_nome    Secretaria de Referencia do Homem menor e adolescente e mulher.
	Click Element	id=editaentidade:formularioEntidade:adicao_ativo
	Click Element	xpath=//button[contains(@id,'editaentidade:formularioEntidade')]//span[contains(text(),'Confirmar')]
	Wait Until Page Contains    Serviço adicionado com sucesso!
	Click Element	xpath=//div[contains(@class,'botoes')]/input[contains(@value, 'Ok')]

listar_servicos
	Click Element	xpath=//div[@id='menu_index']/a[contains(@href,'/SAVCM/entidades/gerenciarEntidades.jsf')]
	Wait Until Page Contains    Filtrar por nome
	Input Text		id=formListaEntidades:listaEntidades:globalFilter    Secretaria de Referencia Homem
	Get Text 	xpath=//div[text()='Secretaria de Referencia Homem']


Go to homepage
	Open Browser	${PAGINA}
	Input Text	id=formLogin:usuario	${LOGIN}
	Input Password	id=formLogin:senha	${SENHA}
	Click Element	xpath=//select[contains(@id,'formLogin:entidade')]
	Click Element	xpath=//select[contains(@id,'formLogin:entidade')]/option[text()='Secretaria de Estado da Mulher e da Diversidade Humana']
	Click Element	xpath=//input[contains(@type,'submit') and contains(@value,'Entrar')]
